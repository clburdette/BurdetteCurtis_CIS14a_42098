<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<!--
	Dr. Mark E. Lehr
	April 6th, 2016
	Testing Local Storage
-->


<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Create the _Get Object</title>
<script type="text/javascript" src="getForm.js"></script>
</head>

<body>
<script type="text/javascript">
	//Create an array with 2 objects
	var inventoryItem1 = { "Product":"Chicken","Inventory":"155","Price":"3.55" };
	var inventoryItem2 = { "Product": "Milk", "Inventory": "203", "Price": "2.33" };
	var inventoryItem3 = { "Product": "Eggs", "Inventory": "301", "Price": "4.99" };
	var inventory=[];
	inventory[0] = inventoryItem1;
	inventory[1] = inventoryItem2;
	inventory[2] = inventoryItem3;

    //Display the array in a table
	var str2 = '<table border="1" style="width:auto">';
	str2 += "<tr><th>Object#</th><th>Item</th><th>Inventory#</th><th>Price$</tr>";
	//Loop through inventory
	for (var i = 0; i < inventory.length; i++) {
	    //Add object number, product, inventory#, and price to table
	    str2 += "<tr>";
	    str2 += "<td><center>" + (i + 1) + "</center></td>";
	    str2 += "<td><center>" + inventory[i].Product + "</center></td>";
	    str2 += "<td><center>" + inventory[i].Inventory + "</center></td>";
	    str2 += "<td><center>" + inventory[i].Price + "</center></td>";
	    str2 += "</tr>";
	}
	str2 += "</table>";
	//Display the string
	document.write(str2);

	//Stringify the array
	var str=JSON.stringify(inventory);
	//Store into local Storage
	localStorage.setItem("Inventory", str);

	var input = prompt("Enter the object number you wish to remove(1-3)");

	var inventory2 = JSON.parse(str);

	inventory2.splice(input - 1, 1);

	var str3 = '<table border="1" style="width:auto">';
	str3 += "<tr><th>Object#</th><th>Item</th><th>Inventory#</th><th>Price$</tr>";
	//Loop through inventory
	for (var i = 0; i < inventory2.length; i++) {
	    //Add object number, product, inventory#, and price to table
	    str3 += "<tr>";
	    str3 += "<td><center>" + (i + 1) + "</center></td>";
	    str3 += "<td><center>" + inventory2[i].Product + "</center></td>";
	    str3 += "<td><center>" + inventory2[i].Inventory + "</center></td>";
	    str3 += "<td><center>" + inventory2[i].Price + "</center></td>";
	    str3 += "</tr>";
	}
	str3 += "</table>";
	//Display the string
	document.write(str3)


</script>
</body>
</html>

